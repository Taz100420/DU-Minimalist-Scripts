{"slots":{"0":{"name":"screen","type":{"events":[],"methods":[]}},"1":{"name":"light","type":{"events":[],"methods":[]}},"2":{"name":"door","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"10":{"name":"slot11","type":{"events":[],"methods":[]}},"11":{"name":"slot12","type":{"events":[],"methods":[]}},"12":{"name":"slot13","type":{"events":[],"methods":[]}},"13":{"name":"slot14","type":{"events":[],"methods":[]}},"14":{"name":"slot15","type":{"events":[],"methods":[]}},"15":{"name":"slot16","type":{"events":[],"methods":[]}},"16":{"name":"slot17","type":{"events":[],"methods":[]}},"17":{"name":"slot18","type":{"events":[],"methods":[]}},"18":{"name":"slot19","type":{"events":[],"methods":[]}},"19":{"name":"slot20","type":{"events":[],"methods":[]}},"20":{"name":"slot21","type":{"events":[],"methods":[]}},"21":{"name":"slot22","type":{"events":[],"methods":[]}},"22":{"name":"slot23","type":{"events":[],"methods":[]}},"23":{"name":"slot24","type":{"events":[],"methods":[]}},"24":{"name":"slot25","type":{"events":[],"methods":[]}},"25":{"name":"slot26","type":{"events":[],"methods":[]}},"26":{"name":"slot27","type":{"events":[],"methods":[]}},"27":{"name":"slot28","type":{"events":[],"methods":[]}},"28":{"name":"slot29","type":{"events":[],"methods":[]}},"29":{"name":"slot30","type":{"events":[],"methods":[]}},"30":{"name":"slot31","type":{"events":[],"methods":[]}},"31":{"name":"slot32","type":{"events":[],"methods":[]}},"32":{"name":"slot33","type":{"events":[],"methods":[]}},"33":{"name":"slot34","type":{"events":[],"methods":[]}},"34":{"name":"slot35","type":{"events":[],"methods":[]}},"35":{"name":"slot36","type":{"events":[],"methods":[]}},"36":{"name":"slot37","type":{"events":[],"methods":[]}},"37":{"name":"slot38","type":{"events":[],"methods":[]}},"38":{"name":"slot39","type":{"events":[],"methods":[]}},"39":{"name":"slot40","type":{"events":[],"methods":[]}},"40":{"name":"slot41","type":{"events":[],"methods":[]}},"41":{"name":"slot42","type":{"events":[],"methods":[]}},"42":{"name":"slot43","type":{"events":[],"methods":[]}},"43":{"name":"slot44","type":{"events":[],"methods":[]}},"44":{"name":"slot45","type":{"events":[],"methods":[]}},"45":{"name":"slot46","type":{"events":[],"methods":[]}},"46":{"name":"slot47","type":{"events":[],"methods":[]}},"47":{"name":"slot48","type":{"events":[],"methods":[]}},"48":{"name":"slot49","type":{"events":[],"methods":[]}},"49":{"name":"slot50","type":{"events":[],"methods":[]}},"50":{"name":"slot51","type":{"events":[],"methods":[]}},"51":{"name":"slot52","type":{"events":[],"methods":[]}},"52":{"name":"slot53","type":{"events":[],"methods":[]}},"53":{"name":"slot54","type":{"events":[],"methods":[]}},"54":{"name":"slot55","type":{"events":[],"methods":[]}},"55":{"name":"slot56","type":{"events":[],"methods":[]}},"56":{"name":"slot57","type":{"events":[],"methods":[]}},"57":{"name":"slot58","type":{"events":[],"methods":[]}},"58":{"name":"slot59","type":{"events":[],"methods":[]}},"59":{"name":"slot60","type":{"events":[],"methods":[]}},"60":{"name":"slot61","type":{"events":[],"methods":[]}},"61":{"name":"slot62","type":{"events":[],"methods":[]}},"62":{"name":"slot63","type":{"events":[],"methods":[]}},"63":{"name":"slot64","type":{"events":[],"methods":[]}},"64":{"name":"slot65","type":{"events":[],"methods":[]}},"65":{"name":"slot66","type":{"events":[],"methods":[]}},"66":{"name":"slot67","type":{"events":[],"methods":[]}},"67":{"name":"slot68","type":{"events":[],"methods":[]}},"68":{"name":"slot69","type":{"events":[],"methods":[]}},"69":{"name":"slot70","type":{"events":[],"methods":[]}},"70":{"name":"slot71","type":{"events":[],"methods":[]}},"71":{"name":"slot72","type":{"events":[],"methods":[]}},"72":{"name":"slot73","type":{"events":[],"methods":[]}},"73":{"name":"slot74","type":{"events":[],"methods":[]}},"74":{"name":"slot75","type":{"events":[],"methods":[]}},"75":{"name":"slot76","type":{"events":[],"methods":[]}},"76":{"name":"slot77","type":{"events":[],"methods":[]}},"77":{"name":"slot78","type":{"events":[],"methods":[]}},"78":{"name":"slot79","type":{"events":[],"methods":[]}},"79":{"name":"slot80","type":{"events":[],"methods":[]}},"80":{"name":"slot81","type":{"events":[],"methods":[]}},"81":{"name":"slot82","type":{"events":[],"methods":[]}},"82":{"name":"slot83","type":{"events":[],"methods":[]}},"83":{"name":"slot84","type":{"events":[],"methods":[]}},"84":{"name":"slot85","type":{"events":[],"methods":[]}},"85":{"name":"slot86","type":{"events":[],"methods":[]}},"86":{"name":"slot87","type":{"events":[],"methods":[]}},"87":{"name":"slot88","type":{"events":[],"methods":[]}},"88":{"name":"slot89","type":{"events":[],"methods":[]}},"89":{"name":"slot90","type":{"events":[],"methods":[]}},"90":{"name":"slot91","type":{"events":[],"methods":[]}},"91":{"name":"slot92","type":{"events":[],"methods":[]}},"92":{"name":"slot93","type":{"events":[],"methods":[]}},"93":{"name":"slot94","type":{"events":[],"methods":[]}},"94":{"name":"slot95","type":{"events":[],"methods":[]}},"95":{"name":"slot96","type":{"events":[],"methods":[]}},"96":{"name":"slot97","type":{"events":[],"methods":[]}},"97":{"name":"slot98","type":{"events":[],"methods":[]}},"98":{"name":"slot99","type":{"events":[],"methods":[]}},"99":{"name":"slot100","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.hideWidget()","filter":{"args":[],"signature":"onStart()","slotKey":"-1"},"key":"0"},{"code":"--Step 1: Create the approved player list\n--Keep list EXACTLY as formatted when adding more names while importing\nalist = {\"\"} --export: Approved list of names\n\n--Step 2: Declare variables\npname = player.getName()\n\n--Step 3:Create renderscript function for images on the screen\nfunction approved()\n    \n    --local imgurl = \"assets.prod.novaquark.com/41287/1a9c5aea-7241-4cdf-9f2b-3a7e3985677e.jpg\"\n    imgurl = \"assets.prod.novaquark.com/41287/3952b9f7-4041-43cc-9966-4b616bdc56a8.jpg\"\n    \n    renderScript = [[\n        local w, h = getResolution()\n        local layer = createLayer()\n        setBackgroundColor(0, 0, 0) --black background\n\n        local img = loadImage(\"]] .. imgurl .. [[\")\n\n        if img ~= nil then\n            addImage(layer, img, 0, 0, w, h)\n        end\n    ]]\n    \n    return renderScript\nend\n\nfunction denied()\n    \n    imgurl = \"assets.prod.novaquark.com/41287/9c1705e3-7bc4-4330-8ae3-8de4e6c7eafc.jpg\"\n    \n    renderScript = [[\n        local w, h = getResolution()\n        local layer = createLayer()\n        setBackgroundColor(0, 0, 0) --black background\n\n        local img = loadImage(\"]] .. imgurl .. [[\")\n\n        if img ~= nil then\n            addImage(layer, img, 0, 0, w, h)\n        end\n    ]]\n    \n    return renderScript\nend\n\n--Step 4: Create the main functions for approval/denial(light color, door state and image)\nfunction papproved()\n    light.setColor(0,1,0)\n    door.deactivate()\n    screen.setRenderScript(approved())\nend\n\nfunction pdenied()\n    light.setColor(1,0,0)\n    door.activate()\n    screen.setRenderScript(denied())\nend\n\n--Step 5: Create the check function\nfunction has_name(list, value)\n  for _, name in ipairs(list) do\n    if name == value then\n      return true --Name found\n    end\n  end\n  return false --Name not found\nend\n\n--Step 6: Check if player is on the list\nif has_name(alist, pname) then\n    papproved() else\n    pdenied()\nend","filter":{"args":[],"signature":"onStart()","slotKey":"-4"},"key":"1"},{"code":"function screenoff()\n    light.setColor(1,1,1)\n    door.activate()\n    screen.setRenderScript(required())\nend\n\nfunction required()\n    \n    imgurl = \"assets.prod.novaquark.com/41287/ac8c93af-3b77-4f0e-bb97-8ddf168c46a9.jpg\"\n    \n    renderScript = [[\n        local w, h = getResolution()\n        local layer = createLayer()\n        setBackgroundColor(0, 0, 0) -- black background\n\n        local img = loadImage(\"]] .. imgurl .. [[\")\n\n        if img ~= nil then\n            addImage(layer, img, 0, 0, w, h)\n        else\n            local font = loadFont(\"Play\", 30)\n            setNextFillColor(layer, 1, 0, 0, 1)\n            addText(layer, font, \"Image failed to load\", w/2, h/2)\n        end\n    ]]\n    \n    return renderScript\nend\n\nscreenoff()","filter":{"args":[],"signature":"onStop()","slotKey":"-4"},"key":"2"}],"methods":[],"events":[]}
